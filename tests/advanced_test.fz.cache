{"version":"4.0.0","ast":[{"type":"exprstmt","expr":{"type":"call","callee":{"type":"ident","name":"println","loc":{"offset":0,"line":1,"col":1,"endOffset":6,"endLine":1,"endCol":7}},"args":[{"type":"str","value":"--- Advanced Features Test ---","loc":{"offset":8,"line":1,"col":9,"endOffset":39,"endLine":1,"endCol":40}}],"loc":{"offset":0,"line":1,"col":1,"endOffset":6,"endLine":1,"endCol":7}},"loc":{"offset":0,"line":1,"col":1,"endOffset":6,"endLine":1,"endCol":7}},{"type":"exprstmt","expr":{"type":"call","callee":{"type":"ident","name":"println","loc":{"offset":61,"line":4,"col":1,"endOffset":67,"endLine":4,"endCol":7}},"args":[{"type":"str","value":"Testing Struct...","loc":{"offset":69,"line":4,"col":9,"endOffset":87,"endLine":4,"endCol":27}}],"loc":{"offset":61,"line":4,"col":1,"endOffset":67,"endLine":4,"endCol":7}},"loc":{"offset":61,"line":4,"col":1,"endOffset":67,"endLine":4,"endCol":7}},{"type":"try","tryBlock":[{"type":"assign","name":"packed","mut":true,"value":{"type":"call","callee":{"type":"get","obj":{"type":"ident","name":"struct","loc":{"offset":835,"line":19,"col":19,"endOffset":840,"endLine":19,"endCol":24}},"key":{"type":"str","value":"pack"},"loc":{"offset":835,"line":19,"col":19,"endOffset":840,"endLine":19,"endCol":24}},"args":[{"type":"str","value":"I s","loc":{"offset":847,"line":19,"col":31,"endOffset":851,"endLine":19,"endCol":35}},{"type":"num","value":123456,"loc":{"offset":854,"line":19,"col":38,"endOffset":859,"endLine":19,"endCol":43}},{"type":"str","value":"Hello","loc":{"offset":862,"line":19,"col":46,"endOffset":868,"endLine":19,"endCol":52}}],"loc":{"offset":835,"line":19,"col":19,"endOffset":840,"endLine":19,"endCol":24}},"loc":{"offset":825,"line":19,"col":9,"endOffset":830,"endLine":19,"endCol":14}},{"type":"assign","name":"unpacked","mut":true,"value":{"type":"call","callee":{"type":"get","obj":{"type":"ident","name":"struct","loc":{"offset":924,"line":22,"col":21,"endOffset":929,"endLine":22,"endCol":26}},"key":{"type":"str","value":"unpack"},"loc":{"offset":924,"line":22,"col":21,"endOffset":929,"endLine":22,"endCol":26}},"args":[{"type":"str","value":"I s","loc":{"offset":938,"line":22,"col":35,"endOffset":942,"endLine":22,"endCol":39}},{"type":"ident","name":"packed","loc":{"offset":945,"line":22,"col":42,"endOffset":950,"endLine":22,"endCol":47}}],"loc":{"offset":924,"line":22,"col":21,"endOffset":929,"endLine":22,"endCol":26}},"loc":{"offset":912,"line":22,"col":9,"endOffset":919,"endLine":22,"endCol":16}},{"type":"if","expr":{"type":"bin","op":"==","left":{"type":"idx","obj":{"type":"ident","name":"unpacked","loc":{"offset":966,"line":24,"col":9,"endOffset":973,"endLine":24,"endCol":16}},"idx":{"type":"num","value":0,"loc":{"offset":975,"line":24,"col":18,"endOffset":975,"endLine":24,"endCol":18}},"loc":{"offset":966,"line":24,"col":9,"endOffset":973,"endLine":24,"endCol":16}},"right":{"type":"num","value":123456,"loc":{"offset":981,"line":24,"col":24,"endOffset":986,"endLine":24,"endCol":29}},"loc":{"offset":966,"line":24,"col":9,"endOffset":973,"endLine":24,"endCol":16}},"thenBlock":[{"type":"exprstmt","expr":{"type":"call","callee":{"type":"ident","name":"println","loc":{"offset":992,"line":24,"col":35,"endOffset":998,"endLine":24,"endCol":41}},"args":[{"type":"str","value":"Struct Int: OK","loc":{"offset":1000,"line":24,"col":43,"endOffset":1015,"endLine":24,"endCol":58}}],"loc":{"offset":992,"line":24,"col":35,"endOffset":998,"endLine":24,"endCol":41}},"loc":{"offset":992,"line":24,"col":35,"endOffset":998,"endLine":24,"endCol":41}}],"elseBlock":[{"type":"exprstmt","expr":{"type":"call","callee":{"type":"ident","name":"println","loc":{"offset":1026,"line":24,"col":69,"endOffset":1032,"endLine":24,"endCol":75}},"args":[{"type":"bin","op":"+","left":{"type":"str","value":"Struct Int: FAIL ","loc":{"offset":1034,"line":24,"col":77,"endOffset":1052,"endLine":24,"endCol":95}},"right":{"type":"idx","obj":{"type":"ident","name":"unpacked","loc":{"offset":1056,"line":24,"col":99,"endOffset":1063,"endLine":24,"endCol":106}},"idx":{"type":"num","value":0,"loc":{"offset":1065,"line":24,"col":108,"endOffset":1065,"endLine":24,"endCol":108}},"loc":{"offset":1056,"line":24,"col":99,"endOffset":1063,"endLine":24,"endCol":106}},"loc":{"offset":1034,"line":24,"col":77,"endOffset":1052,"endLine":24,"endCol":95}}],"loc":{"offset":1026,"line":24,"col":69,"endOffset":1032,"endLine":24,"endCol":75}},"loc":{"offset":1026,"line":24,"col":69,"endOffset":1032,"endLine":24,"endCol":75}}],"loc":{"offset":962,"line":24,"col":5,"endOffset":963,"endLine":24,"endCol":6}},{"type":"if","expr":{"type":"bin","op":"==","left":{"type":"idx","obj":{"type":"ident","name":"unpacked","loc":{"offset":1081,"line":25,"col":9,"endOffset":1088,"endLine":25,"endCol":16}},"idx":{"type":"num","value":1,"loc":{"offset":1090,"line":25,"col":18,"endOffset":1090,"endLine":25,"endCol":18}},"loc":{"offset":1081,"line":25,"col":9,"endOffset":1088,"endLine":25,"endCol":16}},"right":{"type":"str","value":"Hello","loc":{"offset":1096,"line":25,"col":24,"endOffset":1102,"endLine":25,"endCol":30}},"loc":{"offset":1081,"line":25,"col":9,"endOffset":1088,"endLine":25,"endCol":16}},"thenBlock":[{"type":"exprstmt","expr":{"type":"call","callee":{"type":"ident","name":"println","loc":{"offset":1108,"line":25,"col":36,"endOffset":1114,"endLine":25,"endCol":42}},"args":[{"type":"str","value":"Struct Str: OK","loc":{"offset":1116,"line":25,"col":44,"endOffset":1131,"endLine":25,"endCol":59}}],"loc":{"offset":1108,"line":25,"col":36,"endOffset":1114,"endLine":25,"endCol":42}},"loc":{"offset":1108,"line":25,"col":36,"endOffset":1114,"endLine":25,"endCol":42}}],"elseBlock":[{"type":"exprstmt","expr":{"type":"call","callee":{"type":"ident","name":"println","loc":{"offset":1142,"line":25,"col":70,"endOffset":1148,"endLine":25,"endCol":76}},"args":[{"type":"bin","op":"+","left":{"type":"bin","op":"+","left":{"type":"str","value":"Struct Str: FAIL '","loc":{"offset":1150,"line":25,"col":78,"endOffset":1169,"endLine":25,"endCol":97}},"right":{"type":"idx","obj":{"type":"ident","name":"unpacked","loc":{"offset":1173,"line":25,"col":101,"endOffset":1180,"endLine":25,"endCol":108}},"idx":{"type":"num","value":1,"loc":{"offset":1182,"line":25,"col":110,"endOffset":1182,"endLine":25,"endCol":110}},"loc":{"offset":1173,"line":25,"col":101,"endOffset":1180,"endLine":25,"endCol":108}},"loc":{"offset":1150,"line":25,"col":78,"endOffset":1169,"endLine":25,"endCol":97}},"right":{"type":"str","value":"'","loc":{"offset":1187,"line":25,"col":115,"endOffset":1189,"endLine":25,"endCol":117}},"loc":{"offset":1150,"line":25,"col":78,"endOffset":1169,"endLine":25,"endCol":97}}],"loc":{"offset":1142,"line":25,"col":70,"endOffset":1148,"endLine":25,"endCol":76}},"loc":{"offset":1142,"line":25,"col":70,"endOffset":1148,"endLine":25,"endCol":76}}],"loc":{"offset":1077,"line":25,"col":5,"endOffset":1078,"endLine":25,"endCol":6}}],"catchBlock":[{"type":"exprstmt","expr":{"type":"call","callee":{"type":"ident","name":"println","loc":{"offset":1220,"line":28,"col":5,"endOffset":1226,"endLine":28,"endCol":11}},"args":[{"type":"bin","op":"+","left":{"type":"str","value":"Struct Error: ","loc":{"offset":1228,"line":28,"col":13,"endOffset":1243,"endLine":28,"endCol":28}},"right":{"type":"ident","name":"e","loc":{"offset":1247,"line":28,"col":32,"endOffset":1247,"endLine":28,"endCol":32}},"loc":{"offset":1228,"line":28,"col":13,"endOffset":1243,"endLine":28,"endCol":28}}],"loc":{"offset":1220,"line":28,"col":5,"endOffset":1226,"endLine":28,"endCol":11}},"loc":{"offset":1220,"line":28,"col":5,"endOffset":1226,"endLine":28,"endCol":11}}],"errVar":"e","loc":{"offset":90,"line":5,"col":1,"endOffset":92,"endLine":5,"endCol":3}},{"type":"exprstmt","expr":{"type":"call","callee":{"type":"ident","name":"println","loc":{"offset":1271,"line":32,"col":1,"endOffset":1277,"endLine":32,"endCol":7}},"args":[{"type":"str","value":"Testing HTML...","loc":{"offset":1279,"line":32,"col":9,"endOffset":1295,"endLine":32,"endCol":25}}],"loc":{"offset":1271,"line":32,"col":1,"endOffset":1277,"endLine":32,"endCol":7}},"loc":{"offset":1271,"line":32,"col":1,"endOffset":1277,"endLine":32,"endCol":7}},{"type":"assign","name":"html_content","mut":true,"value":{"type":"str","value":"<a href=\"https://google.com\">Link</a> <div class=\"test\"> <a href=\"login.php\">Login</a> </div>","loc":{"offset":1318,"line":33,"col":21,"endOffset":1418,"endLine":33,"endCol":121}},"loc":{"offset":1302,"line":33,"col":5,"endOffset":1313,"endLine":33,"endCol":16}},{"type":"assign","name":"links","mut":true,"value":{"type":"call","callee":{"type":"get","obj":{"type":"ident","name":"html","loc":{"offset":1433,"line":34,"col":14,"endOffset":1436,"endLine":34,"endCol":17}},"key":{"type":"str","value":"extract_links"},"loc":{"offset":1433,"line":34,"col":14,"endOffset":1436,"endLine":34,"endCol":17}},"args":[{"type":"ident","name":"html_content","loc":{"offset":1452,"line":34,"col":33,"endOffset":1463,"endLine":34,"endCol":44}}],"loc":{"offset":1433,"line":34,"col":14,"endOffset":1436,"endLine":34,"endCol":17}},"loc":{"offset":1424,"line":34,"col":5,"endOffset":1428,"endLine":34,"endCol":9}},{"type":"if","expr":{"type":"bin","op":"==","left":{"type":"call","callee":{"type":"ident","name":"len","loc":{"offset":1470,"line":35,"col":5,"endOffset":1472,"endLine":35,"endCol":7}},"args":[{"type":"ident","name":"links","loc":{"offset":1474,"line":35,"col":9,"endOffset":1478,"endLine":35,"endCol":13}}],"loc":{"offset":1470,"line":35,"col":5,"endOffset":1472,"endLine":35,"endCol":7}},"right":{"type":"num","value":2,"loc":{"offset":1484,"line":35,"col":19,"endOffset":1484,"endLine":35,"endCol":19}},"loc":{"offset":1470,"line":35,"col":5,"endOffset":1472,"endLine":35,"endCol":7}},"thenBlock":[{"type":"exprstmt","expr":{"type":"call","callee":{"type":"ident","name":"println","loc":{"offset":1490,"line":35,"col":25,"endOffset":1496,"endLine":35,"endCol":31}},"args":[{"type":"str","value":"HTML Links: OK","loc":{"offset":1498,"line":35,"col":33,"endOffset":1513,"endLine":35,"endCol":48}}],"loc":{"offset":1490,"line":35,"col":25,"endOffset":1496,"endLine":35,"endCol":31}},"loc":{"offset":1490,"line":35,"col":25,"endOffset":1496,"endLine":35,"endCol":31}}],"elseBlock":[{"type":"exprstmt","expr":{"type":"call","callee":{"type":"ident","name":"println","loc":{"offset":1524,"line":35,"col":59,"endOffset":1530,"endLine":35,"endCol":65}},"args":[{"type":"bin","op":"+","left":{"type":"str","value":"HTML Links: FAIL ","loc":{"offset":1532,"line":35,"col":67,"endOffset":1550,"endLine":35,"endCol":85}},"right":{"type":"call","callee":{"type":"ident","name":"len","loc":{"offset":1554,"line":35,"col":89,"endOffset":1556,"endLine":35,"endCol":91}},"args":[{"type":"ident","name":"links","loc":{"offset":1558,"line":35,"col":93,"endOffset":1562,"endLine":35,"endCol":97}}],"loc":{"offset":1554,"line":35,"col":89,"endOffset":1556,"endLine":35,"endCol":91}},"loc":{"offset":1532,"line":35,"col":67,"endOffset":1550,"endLine":35,"endCol":85}}],"loc":{"offset":1524,"line":35,"col":59,"endOffset":1530,"endLine":35,"endCol":65}},"loc":{"offset":1524,"line":35,"col":59,"endOffset":1530,"endLine":35,"endCol":65}}],"loc":{"offset":1466,"line":35,"col":1,"endOffset":1467,"endLine":35,"endCol":2}},{"type":"assign","name":"emails","mut":true,"value":{"type":"call","callee":{"type":"get","obj":{"type":"ident","name":"html","loc":{"offset":1585,"line":37,"col":15,"endOffset":1588,"endLine":37,"endCol":18}},"key":{"type":"str","value":"extract_emails"},"loc":{"offset":1585,"line":37,"col":15,"endOffset":1588,"endLine":37,"endCol":18}},"args":[{"type":"str","value":"Contact: admin@example.com or support@test.org","loc":{"offset":1605,"line":37,"col":35,"endOffset":1652,"endLine":37,"endCol":82}}],"loc":{"offset":1585,"line":37,"col":15,"endOffset":1588,"endLine":37,"endCol":18}},"loc":{"offset":1575,"line":37,"col":5,"endOffset":1580,"endLine":37,"endCol":10}},{"type":"if","expr":{"type":"bin","op":"==","left":{"type":"idx","obj":{"type":"ident","name":"emails","loc":{"offset":1659,"line":38,"col":5,"endOffset":1664,"endLine":38,"endCol":10}},"idx":{"type":"num","value":0,"loc":{"offset":1666,"line":38,"col":12,"endOffset":1666,"endLine":38,"endCol":12}},"loc":{"offset":1659,"line":38,"col":5,"endOffset":1664,"endLine":38,"endCol":10}},"right":{"type":"str","value":"admin@example.com","loc":{"offset":1672,"line":38,"col":18,"endOffset":1690,"endLine":38,"endCol":36}},"loc":{"offset":1659,"line":38,"col":5,"endOffset":1664,"endLine":38,"endCol":10}},"thenBlock":[{"type":"exprstmt","expr":{"type":"call","callee":{"type":"ident","name":"println","loc":{"offset":1696,"line":38,"col":42,"endOffset":1702,"endLine":38,"endCol":48}},"args":[{"type":"str","value":"HTML Emails: OK","loc":{"offset":1704,"line":38,"col":50,"endOffset":1720,"endLine":38,"endCol":66}}],"loc":{"offset":1696,"line":38,"col":42,"endOffset":1702,"endLine":38,"endCol":48}},"loc":{"offset":1696,"line":38,"col":42,"endOffset":1702,"endLine":38,"endCol":48}}],"elseBlock":[{"type":"exprstmt","expr":{"type":"call","callee":{"type":"ident","name":"println","loc":{"offset":1731,"line":38,"col":77,"endOffset":1737,"endLine":38,"endCol":83}},"args":[{"type":"str","value":"HTML Emails: FAIL","loc":{"offset":1739,"line":38,"col":85,"endOffset":1757,"endLine":38,"endCol":103}}],"loc":{"offset":1731,"line":38,"col":77,"endOffset":1737,"endLine":38,"endCol":83}},"loc":{"offset":1731,"line":38,"col":77,"endOffset":1737,"endLine":38,"endCol":83}}],"loc":{"offset":1655,"line":38,"col":1,"endOffset":1656,"endLine":38,"endCol":2}},{"type":"exprstmt","expr":{"type":"call","callee":{"type":"ident","name":"println","loc":{"offset":1783,"line":41,"col":1,"endOffset":1789,"endLine":41,"endCol":7}},"args":[{"type":"str","value":"Testing Worker...","loc":{"offset":1791,"line":41,"col":9,"endOffset":1809,"endLine":41,"endCol":27}}],"loc":{"offset":1783,"line":41,"col":1,"endOffset":1789,"endLine":41,"endCol":7}},"loc":{"offset":1783,"line":41,"col":1,"endOffset":1789,"endLine":41,"endCol":7}},{"type":"try","tryBlock":[{"type":"assign","name":"w","mut":true,"value":{"type":"call","callee":{"type":"get","obj":{"type":"ident","name":"worker","loc":{"offset":1832,"line":43,"col":14,"endOffset":1837,"endLine":43,"endCol":19}},"key":{"type":"str","value":"spawn"},"loc":{"offset":1832,"line":43,"col":14,"endOffset":1837,"endLine":43,"endCol":19}},"args":[{"type":"str","value":"tests/worker_task.fz","loc":{"offset":1845,"line":43,"col":27,"endOffset":1866,"endLine":43,"endCol":48}},{"type":"map","entries":[{"key":{"type":"str","value":"msg","loc":{"offset":1871,"line":43,"col":53,"endOffset":1873,"endLine":43,"endCol":55}},"value":{"type":"str","value":"HelloFromMain","loc":{"offset":1876,"line":43,"col":58,"endOffset":1890,"endLine":43,"endCol":72}}}],"loc":{"offset":1869,"line":43,"col":51,"endOffset":1869,"endLine":43,"endCol":51}}],"loc":{"offset":1832,"line":43,"col":14,"endOffset":1837,"endLine":43,"endCol":19}},"loc":{"offset":1827,"line":43,"col":9,"endOffset":1827,"endLine":43,"endCol":9}},{"type":"exprstmt","expr":{"type":"call","callee":{"type":"get","obj":{"type":"ident","name":"w","loc":{"offset":1904,"line":45,"col":5,"endOffset":1904,"endLine":45,"endCol":5}},"key":{"type":"str","value":"on"},"loc":{"offset":1904,"line":45,"col":5,"endOffset":1904,"endLine":45,"endCol":5}},"args":[{"type":"str","value":"message","loc":{"offset":1909,"line":45,"col":10,"endOffset":1917,"endLine":45,"endCol":18}},{"type":"fn","name":null,"params":["msg"],"body":[{"type":"exprstmt","expr":{"type":"call","callee":{"type":"ident","name":"println","loc":{"offset":1939,"line":46,"col":9,"endOffset":1945,"endLine":46,"endCol":15}},"args":[{"type":"bin","op":"+","left":{"type":"str","value":"Main received: ","loc":{"offset":1947,"line":46,"col":17,"endOffset":1963,"endLine":46,"endCol":33}},"right":{"type":"ident","name":"msg","loc":{"offset":1967,"line":46,"col":37,"endOffset":1969,"endLine":46,"endCol":39}},"loc":{"offset":1947,"line":46,"col":17,"endOffset":1963,"endLine":46,"endCol":33}}],"loc":{"offset":1939,"line":46,"col":9,"endOffset":1945,"endLine":46,"endCol":15}},"loc":{"offset":1939,"line":46,"col":9,"endOffset":1945,"endLine":46,"endCol":15}}],"loc":{"offset":1920,"line":45,"col":21,"endOffset":1921,"endLine":45,"endCol":22}}],"loc":{"offset":1904,"line":45,"col":5,"endOffset":1904,"endLine":45,"endCol":5}},"loc":{"offset":1904,"line":45,"col":5,"endOffset":1904,"endLine":45,"endCol":5}},{"type":"exprstmt","expr":{"type":"call","callee":{"type":"ident","name":"sleep","loc":{"offset":2065,"line":50,"col":5,"endOffset":2069,"endLine":50,"endCol":9}},"args":[{"type":"num","value":2000,"loc":{"offset":2071,"line":50,"col":11,"endOffset":2074,"endLine":50,"endCol":14}}],"loc":{"offset":2065,"line":50,"col":5,"endOffset":2069,"endLine":50,"endCol":9}},"loc":{"offset":2065,"line":50,"col":5,"endOffset":2069,"endLine":50,"endCol":9}},{"type":"exprstmt","expr":{"type":"call","callee":{"type":"get","obj":{"type":"ident","name":"w","loc":{"offset":2081,"line":51,"col":5,"endOffset":2081,"endLine":51,"endCol":5}},"key":{"type":"str","value":"terminate"},"loc":{"offset":2081,"line":51,"col":5,"endOffset":2081,"endLine":51,"endCol":5}},"args":[],"loc":{"offset":2081,"line":51,"col":5,"endOffset":2081,"endLine":51,"endCol":5}},"loc":{"offset":2081,"line":51,"col":5,"endOffset":2081,"endLine":51,"endCol":5}},{"type":"exprstmt","expr":{"type":"call","callee":{"type":"ident","name":"println","loc":{"offset":2099,"line":52,"col":5,"endOffset":2105,"endLine":52,"endCol":11}},"args":[{"type":"str","value":"Worker Test: Done","loc":{"offset":2107,"line":52,"col":13,"endOffset":2125,"endLine":52,"endCol":31}}],"loc":{"offset":2099,"line":52,"col":5,"endOffset":2105,"endLine":52,"endCol":11}},"loc":{"offset":2099,"line":52,"col":5,"endOffset":2105,"endLine":52,"endCol":11}}],"catchBlock":[{"type":"exprstmt","expr":{"type":"call","callee":{"type":"ident","name":"println","loc":{"offset":2147,"line":54,"col":5,"endOffset":2153,"endLine":54,"endCol":11}},"args":[{"type":"bin","op":"+","left":{"type":"str","value":"Worker Error: ","loc":{"offset":2155,"line":54,"col":13,"endOffset":2170,"endLine":54,"endCol":28}},"right":{"type":"ident","name":"e","loc":{"offset":2174,"line":54,"col":32,"endOffset":2174,"endLine":54,"endCol":32}},"loc":{"offset":2155,"line":54,"col":13,"endOffset":2170,"endLine":54,"endCol":28}}],"loc":{"offset":2147,"line":54,"col":5,"endOffset":2153,"endLine":54,"endCol":11}},"loc":{"offset":2147,"line":54,"col":5,"endOffset":2153,"endLine":54,"endCol":11}}],"errVar":"e","loc":{"offset":1812,"line":42,"col":1,"endOffset":1814,"endLine":42,"endCol":3}},{"type":"exprstmt","expr":{"type":"call","callee":{"type":"ident","name":"println","loc":{"offset":2182,"line":57,"col":1,"endOffset":2188,"endLine":57,"endCol":7}},"args":[{"type":"str","value":"Advanced Test Done","loc":{"offset":2190,"line":57,"col":9,"endOffset":2209,"endLine":57,"endCol":28}}],"loc":{"offset":2182,"line":57,"col":1,"endOffset":2188,"endLine":57,"endCol":7}},"loc":{"offset":2182,"line":57,"col":1,"endOffset":2188,"endLine":57,"endCol":7}}]}